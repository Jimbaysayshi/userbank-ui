{"ast":null,"code":"import _regeneratorRuntime from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import Cookie from'js-cookie';export var register=function register(newUser){return axios.post('/signup',{username:newUser.username,masterkey:newUser.masterkey}).then(function(res){console.log(res.data);return res;}).catch(function(err){console.log(err);});};export var login=function login(user){var config={headers:{'Content-Type':'application/json','Accept':'application/json'},credentials:'include'};return axios.post('/login',{username:user.username,masterkey:user.masterkey},config).then(function(res){localStorage.setItem('jwt-token',res.data.token);localStorage.setItem('id',res.data.id);Cookie.set(\"token\",res.data.token,{'expires':10});Cookie.set(\"refresh_token\",res.data.refresh_token,{'expires':60});return res;}).catch(function(err){console.log(err);});};export var credentials=function credentials(credentialSet){var token=localStorage.getItem('jwt-token');var config={headers:{Authorization:\"Bearer \".concat(token)}};var userID=localStorage.getItem('id');return axios.post('/add-program',{program:credentialSet.program,username:credentialSet.username,password:credentialSet.password,index:credentialSet.index,id:userID},config).then(function(res){return res;}).catch(function(err){console.log(err);});};export var remove=function remove(removeProgram){var token=localStorage.getItem('jwt-token');var userID=localStorage.getItem('id');var config={headers:{Authorization:\"Bearer \".concat(token)}};return axios.post('/remove-program',{program:removeProgram.program,username:removeProgram.username,id:userID},config).then(function(res){console.log(res.data);return res;}).catch(function(err){console.log(err);});};export var programs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(token){var config;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{Authorization:\"Bearer \".concat(token)}};return _context.abrupt(\"return\",axios.get('/programs',config).then(function(res){console.log(res);return res;}));case 2:case\"end\":return _context.stop();}}},_callee);}));return function programs(_x){return _ref.apply(this,arguments);};}();export var change=function change(credentialSet){console.log(credentialSet);var config={headers:{Authorization:\"Bearer \".concat(localStorage.getItem('jwt-token'))}};return axios.post('/change-credentials',{program:credentialSet.program,username:credentialSet.username,password:credentialSet.password,index:credentialSet.index,user_id:localStorage.getItem('id')},config).then(function(res){console.log(res.data);return res;}).catch(function(err){console.log(err);});};","map":{"version":3,"sources":["/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/src/components/UserFunctions.js"],"names":["axios","Cookie","register","newUser","post","username","masterkey","then","res","console","log","data","catch","err","login","user","config","headers","credentials","localStorage","setItem","token","id","set","refresh_token","credentialSet","getItem","Authorization","userID","program","password","index","remove","removeProgram","programs","get","change","user_id"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport Cookie from 'js-cookie'\n\n\nexport const register = newUser => {\n    return axios\n        .post('/signup',{\n            username: newUser.username,\n            masterkey: newUser.masterkey\n        })\n        .then(res => {\n            console.log(res.data)\n            return res\n        })\n        .catch(err =>{\n            console.log(err)\n        })\n\n}\n\nexport const login = user => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n        },\n        credentials: 'include',}    \n\n    return axios\n\n        .post('/login', {\n            username: user.username,\n            masterkey: user.masterkey\n            }, config)\n        .then(res => {\n            localStorage.setItem('jwt-token', res.data.token)\n            localStorage.setItem('id', res.data.id)\n            Cookie.set(\"token\", res.data.token, {'expires': 10})\n            Cookie.set(\"refresh_token\", res.data.refresh_token, {'expires': 60})\n            return res\n        })\n        .catch (err => {\n            console.log(err)\n        })\n}\n\nexport const credentials = credentialSet => {\n    const token = localStorage.getItem('jwt-token');\n    const config = {\n        headers: { Authorization: `Bearer ${token}` }\n    };\n    const userID = localStorage.getItem('id')\n    return axios\n     \n        .post('/add-program', {\n            program: credentialSet.program,\n            username: credentialSet.username,\n            password: credentialSet.password,\n            index: credentialSet.index,\n            id: userID,\n            },config)\n        .then(res => {\n            return res\n        })\n        .catch (err => {\n            console.log(err)\n        })\n}\n\n\nexport const remove = removeProgram => {\n    const token = localStorage.getItem('jwt-token');\n    const userID = localStorage.getItem('id')\n    const config = {\n        headers: { Authorization: `Bearer ${token}` }\n    };\n    return axios\n     \n        .post('/remove-program', {\n            program: removeProgram.program,\n            username: removeProgram.username,\n            id: userID,\n            }, config)\n        .then(res => {\n            console.log(res.data)\n            return res\n        })\n        .catch (err => {\n            console.log(err)\n        })\n}\n\n\nexport const programs = async (token) => {\n    const config = {\n        headers: { Authorization: `Bearer ${token}` },\n    }\n\n    return axios\n        .get('/programs', config)\n        .then(res => {\n            console.log(res)\n            return res\n        })\n        //.catch(err => {\n        //    console.log(err)\n        //})\n\n\n}\n\nexport const change = credentialSet => {\n    console.log(credentialSet)\n    const config = {\n        headers: { Authorization: `Bearer ${localStorage.getItem('jwt-token')}` }\n    };\n    return axios\n     \n        .post('/change-credentials', {\n            program: credentialSet.program,\n            username: credentialSet.username,\n            password: credentialSet.password,\n            index: credentialSet.index,\n            user_id: localStorage.getItem('id')\n            }, config)\n        .then(res => {\n            console.log(res.data)\n            return res\n        })\n        .catch (err => {\n            console.log(err)\n        })\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}