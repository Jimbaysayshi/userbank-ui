{"ast":null,"code":"import axios from'axios';import Cookie from'js-cookie';export var register=function register(newUser){return axios.post('/signup',{username:newUser.username,masterkey:newUser.masterkey}).then(function(res){return res;}).catch(function(err){console.log(err);});};export var logout=function logout(user){var userID=localStorage.getItem('id');return axios.post('/logout',{username:user.username,id:userID}).then(function(res){return res;}).catch(function(err){console.log(err);});};export var login=function login(user){var config={headers:{'Content-Type':'application/json','Accept':'application/json'},credentials:'include'};return axios.post('/login',{username:user.username,masterkey:user.masterkey},config).then(function(res){localStorage.setItem('jwt-token',res.data.token);localStorage.setItem('id',res.data.id);Cookie.set(\"token\",res.data.token,{'expires':10});Cookie.set(\"refresh_token\",res.data.refresh_token,{'expires':60});return res;}).catch(function(err){console.log(err);});};export var credentials=function credentials(credentialSet){var token=localStorage.getItem('jwt-token');var config={headers:{Authorization:\"Bearer \".concat(token)}};var userID=localStorage.getItem('id');return axios.post('/add-program',{program:credentialSet.program,username:credentialSet.username,password:credentialSet.password,index:credentialSet.index,id:userID},config).then(function(res){return res;}).catch(function(err){console.log(err);});};export var remove=function remove(removeProgram){var token=localStorage.getItem('jwt-token');var userID=localStorage.getItem('id');var config={headers:{Authorization:\"Bearer \".concat(token)}};return axios.post('/remove-program',{program:removeProgram.program,username:removeProgram.username,id:userID},config).then(function(res){return res;}).catch(function(err){console.log(err);});};export var programs=function programs(token){var config={headers:{Authorization:\"Bearer \".concat(token)}};return axios.get('/programs',config).then(function(res){return res;});//.catch(error => {\n//    console.log('error')\n//    console.log(error.response)\n//})\n};export var change=function change(credentialSet){var config={headers:{Authorization:\"Bearer \".concat(localStorage.getItem('jwt-token'))}};return axios.post('/change-credentials',{program:credentialSet.program,username:credentialSet.username,password:credentialSet.password,index:credentialSet.index,user_id:localStorage.getItem('id')},config).then(function(res){return res;}).catch(function(err){console.log(err);});};","map":{"version":3,"sources":["/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/src/components/UserFunctions.js"],"names":["axios","Cookie","register","newUser","post","username","masterkey","then","res","catch","err","console","log","logout","user","userID","localStorage","getItem","id","login","config","headers","credentials","setItem","data","token","set","refresh_token","credentialSet","Authorization","program","password","index","remove","removeProgram","programs","get","change","user_id"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport Cookie from 'js-cookie'\n\n\nexport const register = newUser => {\n    \n    return axios\n        .post('/signup',{\n            username: newUser.username,\n            masterkey: newUser.masterkey\n        })\n        .then(res => {\n            return res\n        })\n        .catch(err =>{\n            console.log(err)\n        })\n\n}\n\nexport const logout = user => {\n    const userID = localStorage.getItem('id')\n    return axios \n        .post('/logout', {\n            username: user.username,\n            id: userID\n        })\n        .then(res => {\n            return res\n        })\n        .catch(err => {\n            console.log(err)\n        })\n}\n\nexport const login = user => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n        },\n        credentials: 'include',}    \n\n    return axios\n\n        .post('/login', {\n            username: user.username,\n            masterkey: user.masterkey\n            }, config)\n        .then(res => {\n            localStorage.setItem('jwt-token', res.data.token)\n            localStorage.setItem('id', res.data.id)\n            Cookie.set(\"token\", res.data.token, {'expires': 10})\n            Cookie.set(\"refresh_token\", res.data.refresh_token, {'expires': 60})\n            return res\n        })\n        .catch (err => {\n            console.log(err)\n        })\n}\n\nexport const credentials = credentialSet => {\n    const token = localStorage.getItem('jwt-token');\n    const config = {\n        headers: { Authorization: `Bearer ${token}` }\n    };\n    const userID = localStorage.getItem('id')\n    return axios\n     \n        .post('/add-program', {\n            program: credentialSet.program,\n            username: credentialSet.username,\n            password: credentialSet.password,\n            index: credentialSet.index,\n            id: userID,\n            },config)\n        .then(res => {\n            return res\n        })\n        .catch (err => {\n            console.log(err)\n        })\n}\n\n\nexport const remove = removeProgram => {\n    const token = localStorage.getItem('jwt-token');\n    const userID = localStorage.getItem('id')\n    const config = {\n        headers: { Authorization: `Bearer ${token}` }\n    };\n    return axios\n     \n        .post('/remove-program', {\n            program: removeProgram.program,\n            username: removeProgram.username,\n            id: userID,\n            }, config)\n        .then(res => {\n\n            return res\n        })\n        .catch (err => {\n            console.log(err)\n        })\n}\n\n\nexport const programs = token => {\n    const config = {\n        headers: { Authorization: `Bearer ${token}` },\n    }\n\n    return axios\n        .get('/programs', config)\n        .then(res => {\n            return res\n        })\n        //.catch(error => {\n        //    console.log('error')\n        //    console.log(error.response)\n        //})\n\n\n}\n\nexport const change = credentialSet => {\n    const config = {\n        headers: { Authorization: `Bearer ${localStorage.getItem('jwt-token')}` }\n    };\n    return axios\n     \n        .post('/change-credentials', {\n            program: credentialSet.program,\n            username: credentialSet.username,\n            password: credentialSet.password,\n            index: credentialSet.index,\n            user_id: localStorage.getItem('id')\n            }, config)\n        .then(res => {\n\n            return res\n        })\n        .catch (err => {\n            console.log(err)\n        })\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}