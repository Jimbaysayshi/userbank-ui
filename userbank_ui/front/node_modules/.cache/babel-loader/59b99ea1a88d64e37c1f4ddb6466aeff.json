{"ast":null,"code":"import _defineProperty from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,FormGroup,FormLabel,FormControl}from\"react-bootstrap\";import{programs,credentials}from'./UserFunctions';import{auth}from'./AuthFunctions';import\"./Programs.css\";var ProgramsList=/*#__PURE__*/function(_Component){_inherits(ProgramsList,_Component);function ProgramsList(){var _this;_classCallCheck(this,ProgramsList);_this=_possibleConstructorReturn(this,_getPrototypeOf(ProgramsList).call(this));_this.state={programList:[],program:'',username:'',password:'',password_re:'',jwt_auth:false};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(ProgramsList,[{key:\"createTable\",value:function createTable(){var programList=this.state.programList;return React.createElement(\"table\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"Program\"),React.createElement(\"th\",null,\"Username\"),React.createElement(\"th\",null,\"Password\")),programList.map(function(item){return React.createElement(\"tr\",null,React.createElement(\"td\",{key:item.program},item.program),React.createElement(\"td\",{key:item.program},item.username),React.createElement(\"td\",{key:item.program},item.password));}));}},{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"validateForm\",value:function validateForm(){if(this.state.username.length>0&&this.state.password.length>0&&this.state.password_re.length>0){return this.state.password===this.state.password_re;}}},{key:\"onSubmit\",value:function onSubmit(e){e.preventDefault();var newProgram={program:this.state.program,username:this.state.username,password:this.state.password,id:localStorage.id};credentials(newProgram).then(function(res){if(!res.error){console.log('Credentials added');}});this.setState({program:'',username:'',password:'',password_re:''});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var gainAccess=localStorage.token;//auth(gainAccess).then(res =>{\n//    if(!res.error){\n//        this.setState({jwt_auth: true})\n//        console.log('access granted')\n//    }\n//})\n//if(this.jwt_auth){\nprograms().then(function(res){if(!res.error){_this2.setState({programList:res.programs});localStorage.setItem({programList:res.programs});console.log(localStorage.programList);}else{console.log(\"error in axios request: apidata\");}});//}\n}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"Programs\"},React.createElement(\"h1\",null,\"KEYBANK\"),this.createTable,React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},React.createElement(FormGroup,{controlId:\"program\",bsSize:\"large\"},React.createElement(FormLabel,null,\"Program\"),React.createElement(FormControl,{type:\"program\",name:\"program\",value:this.state.program,onChange:this.onChange})),React.createElement(FormGroup,{controlId:\"username\",bsSize:\"large\"},React.createElement(FormLabel,null,\"Username\"),React.createElement(FormControl,{type:\"username\",name:\"username\",value:this.state.username,onChange:this.onChange})),React.createElement(FormGroup,{controlId:\"password\",bsSize:\"large\"},React.createElement(FormLabel,null,\"Password\"),React.createElement(FormControl,{type:\"password\",name:\"password\",value:this.state.password,onChange:this.onChange})),React.createElement(FormGroup,{controlId:\"password_re\",bsSize:\"large\"},React.createElement(FormLabel,null,\"Password again\"),React.createElement(FormControl,{type:\"password\",name:\"password_re\",value:this.state.password_re,onChange:this.onChange})),React.createElement(\"div\",{className:\"button-group\"},React.createElement(Button,{className:\"register-btn\",block:true,bsSize:\"large\",disabled:!this.validateForm(),type:\"submit\"},\"Add program\"))));}}]);return ProgramsList;}(Component);export default ProgramsList;","map":{"version":3,"sources":["/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/src/components/Programs.js"],"names":["React","Component","Button","FormGroup","FormLabel","FormControl","programs","credentials","auth","ProgramsList","state","programList","program","username","password","password_re","jwt_auth","onChange","bind","onSubmit","map","item","e","setState","target","name","value","length","preventDefault","newProgram","id","localStorage","then","res","error","console","log","gainAccess","token","setItem","createTable","validateForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button, FormGroup, FormLabel, FormControl} from \"react-bootstrap\"\nimport { programs, credentials } from './UserFunctions'\nimport { auth } from './AuthFunctions'\nimport \"./Programs.css\"\n\nclass ProgramsList extends Component {\n    constructor() {\n        super();\n        this.state = {\n            programList: [],\n            program: '',\n            username: '',\n            password:'',\n            password_re:'',\n            jwt_auth: false,\n\n        }\n        this.onChange = this.onChange.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n    }\n\n    createTable() {\n        const {Â programList } = this.state;\n        return <table>\n            <tr>\n                <th>Program</th>\n                <th>Username</th>\n                <th>Password</th>\n            </tr>\n            {programList.map(item => (<tr>\n                <td key={item.program}>\n                    {item.program}\n                </td>\n                <td key={item.program}>\n                    {item.username}\n                </td>\n                <td key={item.program}>\n                    {item.password}\n                </td>\n            </tr>))}\n        </table>\n    }\n\n    onChange(e){\n        this.setState({[e.target.name]: e.target.value})\n    }\n\n    validateForm() {\n        if (this.state.username.length > 0 && this.state.password.length > 0 && this.state.password_re.length > 0){ \n            return this.state.password === this.state.password_re\n        }          \n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        const newProgram = {\n            program: this.state.program,\n            username: this.state.username,\n            password: this.state.password,\n            id: localStorage.id\n        }\n        credentials(newProgram).then(res => {\n            if(!res.error) {\n                console.log('Credentials added')\n            }               \n        })\n        this.setState ({\n            program: '',\n            username: '',\n            password:'',\n            password_re:'',\n        })\n\n    }\n\n    componentDidMount() {\n        const gainAccess = localStorage.token\n        //auth(gainAccess).then(res =>{\n        //    if(!res.error){\n        //        this.setState({jwt_auth: true})\n        //        console.log('access granted')\n        //    }\n        //})\n        //if(this.jwt_auth){\n\n        programs().then(res => {\n            \n            if(!res.error) {\n                this.setState({\n                    programList: res.programs\n                })\n                localStorage.setItem({programList: res.programs})\n                console.log(localStorage.programList)\n                    \n            } else{\n                console.log(\"error in axios request: apidata\")\n            }     \n        })\n        //}\n        \n    }\n   \n    render(){\n\n        return (\n        <div className=\"Programs\">\n            <h1>KEYBANK</h1>\n            { this.createTable }\n            <form noValidate onSubmit={this.onSubmit}>\n                <FormGroup controlId=\"program\" bsSize=\"large\">\n                    <FormLabel>Program</FormLabel>\n                    <FormControl\n                        type=\"program\"\n                        name=\"program\"\n                        value={this.state.program}\n                        onChange={this.onChange}\n                    />\n                </FormGroup>\n                <FormGroup controlId=\"username\" bsSize=\"large\">\n                    <FormLabel>Username</FormLabel>\n                    <FormControl\n                        type=\"username\"\n                        name=\"username\"\n                        value={this.state.username}\n                        onChange={this.onChange}\n                    />\n                </FormGroup>\n                <FormGroup controlId=\"password\" bsSize=\"large\">\n                    <FormLabel>Password</FormLabel>\n                    <FormControl\n                        type=\"password\"\n                        name=\"password\"\n                        value={this.state.password}\n                        onChange={this.onChange}\n                    />\n                </FormGroup>\n                <FormGroup controlId=\"password_re\" bsSize=\"large\">\n                    <FormLabel>Password again</FormLabel>\n                    <FormControl\n                        type=\"password\"\n                        name=\"password_re\"\n                        value={this.state.password_re}\n                        onChange={this.onChange}\n                    />\n                </FormGroup>\n                <div className=\"button-group\">\n                    <Button className=\"register-btn\" block bsSize=\"large\" disabled={!this.validateForm()} type=\"submit\">\n                        Add program\n                    </Button>\n                </div>\n            </form>\n        </div>\n        )\n    }\n\n\n}\n\nexport default ProgramsList"]},"metadata":{},"sourceType":"module"}