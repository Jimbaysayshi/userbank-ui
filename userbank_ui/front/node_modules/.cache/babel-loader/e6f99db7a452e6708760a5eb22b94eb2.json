{"ast":null,"code":"import _defineProperty from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,FormGroup,FormLabel,FormControl}from\"react-bootstrap\";import{register}from'./UserFunctions';import{Link}from'react-router-dom';import\"./Register.css\";var RegisterForm=/*#__PURE__*/function(_Component){_inherits(RegisterForm,_Component);function RegisterForm(){var _this;_classCallCheck(this,RegisterForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(RegisterForm).call(this));_this.state={username:'',masterkey:'',masterkey_re:'',msg:''};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(RegisterForm,[{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));this.alertMessage();}},{key:\"validateForm\",value:function validateForm(){if(this.state.username.length>0&&this.state.masterkey.length>0&&this.state.masterkey_re.length>0){return this.state.masterkey===this.state.masterkey_re;}}},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var newUser={username:this.state.username,masterkey:this.state.masterkey};register(newUser).then(function(res){if(!res.data.err){console.log(res);console.log(res.data);_this2.props.history.push('/');}else{console.log(res.data.err);_this2.setState({msg:res.data.err});}});}},{key:\"alertMessage\",value:function alertMessage(){var msg='';if(this.state.username.length===0){msg=\"Enter your username\";}else if(this.state.masterkey.length===0){msg=\"Enter your masterkey\";}else if(this.state.masterkey_re.length===0){msg=\"Enter your masterkey again\";}else if(this.state.masterkey!==this.state.masterkey_re){msg=\"Passwords has to match\";}else{msg=\"Good job! We are ready to register your account\";}this.setState({msg:msg});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"Register\"},React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},React.createElement(FormGroup,{controlId:\"username\",bsSize:\"large\"},React.createElement(FormLabel,null,\"Username\"),React.createElement(FormControl,{type:\"username\",name:\"username\",value:this.state.username,onChange:this.onChange})),React.createElement(FormGroup,{controlId:\"masterkey\",bsSize:\"large\"},React.createElement(FormLabel,null,\"Masterkey\"),React.createElement(FormControl,{type:\"password\",name:\"masterkey\",value:this.state.masterkey,onChange:this.onChange})),React.createElement(FormGroup,{controlId:\"masterkey_re\",bsSize:\"large\"},React.createElement(FormLabel,null,\"Masterkey again\"),React.createElement(FormControl,{type:\"password\",name:\"masterkey_re\",value:this.state.masterkey_re,onChange:this.onChange})),React.createElement(\"div\",{className:\"button-group\"},React.createElement(Link,{to:\"/\"},React.createElement(Button,{className:\"login-btn\",block:true,bsSize:\"large\"},\"Login\")),\"or\",React.createElement(Button,{className:\"register-btn\",block:true,bsSize:\"large\",disabled:!this.validateForm(),type:\"submit\"},\"Register\"))),React.createElement(\"div\",null,React.createElement(\"p\",{className:\"alert-msg\"},this.state.msg)));}}]);return RegisterForm;}(Component);export default RegisterForm;","map":{"version":3,"sources":["/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/src/components/Register.js"],"names":["React","Component","Button","FormGroup","FormLabel","FormControl","register","Link","RegisterForm","state","username","masterkey","masterkey_re","msg","onChange","bind","onSubmit","e","setState","target","name","value","alertMessage","length","preventDefault","newUser","then","res","data","err","console","log","props","history","push","validateForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button, FormGroup, FormLabel, FormControl} from \"react-bootstrap\"\nimport { register } from './UserFunctions'\nimport { Link } from 'react-router-dom'\nimport \"./Register.css\"\n\nclass RegisterForm extends Component {\n    constructor() {\n        super();\n        this.state = {\n            username: '',\n            masterkey:'',\n            masterkey_re:'',\n            msg: '',\n        }\n        this.onChange = this.onChange.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n    }\n\n    onChange(e){\n        this.setState({[e.target.name]: e.target.value})\n        this.alertMessage()\n    }\n\n    validateForm() {\n        if (this.state.username.length > 0 && this.state.masterkey.length > 0 && this.state.masterkey_re.length > 0){ \n            return this.state.masterkey === this.state.masterkey_re\n        }          \n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        const newUser = {\n            username: this.state.username,\n            masterkey: this.state.masterkey\n        }\n        register(newUser).then(res => {\n            if(!res.data.err) {\n                console.log(res)\n                console.log(res.data)\n                this.props.history.push('/')\n            }\n            else{\n                console.log(res.data.err)\n                this.setState({msg: res.data.err})\n            }               \n        })\n    }\n\n    alertMessage(){\n        let msg = ''\n\n        if (this.state.username.length === 0){\n            msg = \"Enter your username\"\n        } else if (this.state.masterkey.length === 0){\n            msg = \"Enter your masterkey\"\n        } else if (this.state.masterkey_re.length === 0){\n            msg = \"Enter your masterkey again\"\n            \n        } else if (this.state.masterkey !== this.state.masterkey_re){\n            msg = \"Passwords has to match\"\n        } else {\n            msg = \"Good job! We are ready to register your account\"\n        }\n        this.setState({msg: msg})\n        \n    }\n\n    render(){\n        return(\n            <div className=\"Register\">\n                <form noValidate onSubmit={this.onSubmit}>\n                    <FormGroup controlId=\"username\" bsSize=\"large\">\n                        <FormLabel>Username</FormLabel>\n                        <FormControl\n                            type=\"username\"\n                            name=\"username\"\n                            value={this.state.username}\n                            onChange={this.onChange}\n                        />\n                    </FormGroup>\n                    <FormGroup controlId=\"masterkey\" bsSize=\"large\">\n                        <FormLabel>Masterkey</FormLabel>\n                        <FormControl\n                            type=\"password\"\n                            name=\"masterkey\"\n                            value={this.state.masterkey}\n                            onChange={this.onChange}\n                        />\n                    </FormGroup>\n                    <FormGroup controlId=\"masterkey_re\" bsSize=\"large\">\n                        <FormLabel>Masterkey again</FormLabel>\n                        <FormControl\n                            type=\"password\"\n                            name=\"masterkey_re\"\n                            value={this.state.masterkey_re}\n                            onChange={this.onChange}\n                        />\n                    </FormGroup>\n                    <div className=\"button-group\">\n                        <Link to=\"/\">\n                            <Button className=\"login-btn\" block bsSize=\"large\">\n                                Login\n                            </Button>\n                        </Link>\n                        or\n                        <Button className=\"register-btn\" block bsSize=\"large\" disabled={!this.validateForm()} type=\"submit\">\n                            Register\n                        </Button>\n                    </div>\n                </form>\n                <div>\n                    <p className=\"alert-msg\">{this.state.msg}</p>\n                </div>\n            </div>\n        );\n    }\n\n}\nexport default RegisterForm;"]},"metadata":{},"sourceType":"module"}