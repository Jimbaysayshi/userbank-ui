{"ast":null,"code":"import _defineProperty from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,FormGroup,FormLabel,FormControl}from\"react-bootstrap\";import{login}from'./UserFunctions';import{Link}from'react-router-dom';import\"./Login.css\";var LoginForm=/*#__PURE__*/function(_Component){_inherits(LoginForm,_Component);var _super=_createSuper(LoginForm);function LoginForm(){var _this;_classCallCheck(this,LoginForm);_this=_super.call(this);_this.state={username:'',masterkey:'',id:'',msg:\"Login with an existing account or register a new one\"};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(LoginForm,[{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"validateForm\",value:function validateForm(){return this.state.username.length>0&&this.state.masterkey.length>0;}},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var user={username:this.state.username,masterkey:this.state.masterkey};login(user).then(function(res){if(!res.data.err){_this2.props.history.push('/programs');}else{_this2.setState({msg:res.data.err});}});}},{key:\"alertMessage\",value:function alertMessage(){return this.state.msg;}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"Login\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title2\"},/*#__PURE__*/React.createElement(\"h1\",null,\"LOGIN\")),/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(FormGroup,{controlId:\"username\",bsSize:\"large\"},/*#__PURE__*/React.createElement(FormLabel,null,\"Username\"),/*#__PURE__*/React.createElement(FormControl,{type:\"username\",name:\"username\",value:this.state.username,onChange:this.onChange})),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"masterkey\",bsSize:\"large\"},/*#__PURE__*/React.createElement(FormLabel,null,\"Masterkey\"),/*#__PURE__*/React.createElement(FormControl,{type:\"password\",name:\"masterkey\",value:this.state.masterkey,onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"button-group\"},/*#__PURE__*/React.createElement(Button,{className:\"login-btn\",block:true,bsSize:\"large\",disabled:!this.validateForm(),type:\"submit\"},\"Login\"),\"or\",/*#__PURE__*/React.createElement(Link,{to:\"/register\"},/*#__PURE__*/React.createElement(Button,{className:\"register-btn\",block:true,bsSize:\"large\"},\"Register\")))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"alert-msg\"},this.alertMessage())));}}]);return LoginForm;}(Component);export default LoginForm;","map":{"version":3,"sources":["/home/julius/.local/lib/python3.6/site-packages/userbank/userbank_ui/front/src/components/Login.js"],"names":["React","Component","Button","FormGroup","FormLabel","FormControl","login","Link","LoginForm","state","username","masterkey","id","msg","onChange","bind","onSubmit","e","setState","target","name","value","length","preventDefault","user","then","res","data","err","props","history","push","validateForm","alertMessage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button, FormGroup, FormLabel, FormControl} from \"react-bootstrap\"\nimport { login } from './UserFunctions'\nimport { Link } from 'react-router-dom'\nimport \"./Login.css\"\n\nclass LoginForm extends Component {\n    constructor() {\n        super();\n        this.state = {\n            username: '',\n            masterkey :'',\n            id: '',\n            msg: \"Login with an existing account or register a new one\",\n        }\n        this.onChange = this.onChange.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n    } \n\n    onChange(e){\n        this.setState({[e.target.name]: e.target.value})\n    }\n\n    validateForm() {\n        return this.state.username.length > 0 && this.state.masterkey.length > 0;\n    }\n\n    onSubmit(e) {\n        e.preventDefault();\n        const user = {\n            username: this.state.username,\n            masterkey: this.state.masterkey\n        }\n        login(user).then(res => {\n            \n            if(!res.data.err) {\n                \n                this.props.history.push('/programs')\n            } else{\n                this.setState({msg: res.data.err})\n                \n            }     \n        })\n    }\n\n    alertMessage(){\n        return this.state.msg\n    }\n\n    render(){\n        return(\n            <div className=\"Login\">\n                <div className=\"title2\">\n                    <h1>LOGIN</h1>\n                </div>\n                <form noValidate onSubmit={this.onSubmit}>\n                    <FormGroup controlId=\"username\" bsSize=\"large\">\n                        <FormLabel>Username</FormLabel>\n                        <FormControl\n                            type=\"username\"\n                            name=\"username\"\n                            value={this.state.username}\n                            onChange={this.onChange}\n                        />\n                    </FormGroup>\n                    <FormGroup controlId=\"masterkey\" bsSize=\"large\">\n                        <FormLabel>Masterkey</FormLabel>\n                        <FormControl\n                            type=\"password\"\n                            name=\"masterkey\"\n                            value={this.state.masterkey}\n                            onChange={this.onChange}\n                        />\n                    </FormGroup>\n                    <div className=\"button-group\">\n                        <Button className=\"login-btn\" block bsSize=\"large\" disabled={!this.validateForm()} type=\"submit\">\n                            Login\n                        </Button>\n                        or\n                        <Link to=\"/register\">\n                            <Button className=\"register-btn\" block bsSize=\"large\">\n                                Register\n                            </Button>\n                        </Link>\n                    </div>\n                </form>\n                <div>\n                    <p className=\"alert-msg\">{this.alertMessage()}</p>\n                </div>\n            </div>\n        );\n    }\n\n}\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}